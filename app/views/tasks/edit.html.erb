<div class = "table">
  <% if flash[:save_failure] %>
    <p class="save_failure"><%= flash[:save_failure] %></p>
  <% end %>
  <div class = "table_header">
    <h3 class = "table_title">編集</h3>
  </div>

  <%= form_with model: @task do |f| %>
    <table>
      <tr>
        <th><%= f.label :title ,"タイトル" %></th>
        <td>
         <%= f.text_field :title %>

         <% if @task.errors.include?(:title) %>
            <p class = "error_message"><%= @task.errors.full_messages_for(:title).first %>
         <% end %>
        </td>
      </tr>

      <tr>
        <th><%= f.label :start_date ,"開始日" %></th>
        <td>
          <%= f.date_field :start_date %>

          <% if @task.errors.include?(:start_date) %>
            <p class = "error_message"><%= @task.errors.full_messages_for(:start_date).first %>
          <% end %>
       </td>
      </tr>

      <tr>
        <th><%= f.label :end_date ,"終了日" %></th>
        <td>
          <%= f.date_field :end_date %>
      
          <% if @task.errors.include?(:end_date) %>
            <p class = "error_message"><%= @task.errors.full_messages_for(:end_date).first %>
            <% end %>
        </td>
      </tr>

      <tr>
        <th><%= f.label :is_all_day ,"終日" %></th>
        <td><%= f.check_box :is_all_day %></td>
      </tr>

      <tr>
        <th><%= f.label :memo ,"メモ"%>
        <td class ="text_area">
          <%= f.text_area :memo %>

          <% if @task.errors.include?(:memo) %>
            <p class = "error_message"><%= @task.errors.full_messages_for(:memo).first %>
          <% end %>

        </td>
      </tr>
    </table>

    <div>
     <ul>
        <li><%= f.submit "編集を完了する"%></li>
       <li class = "cancel"><%= link_to "一覧に戻る", :tasks %></li>
     </ul>
    </div>
  <% end %>
</div>